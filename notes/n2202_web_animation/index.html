<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.35">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/favicon.ico"><title>Web 动画技术概览 | 兔子不咬人</title><meta name="description" content="我的个人空间">
    <link rel="modulepreload" href="/assets/app.1ea428fb.js"><link rel="modulepreload" href="/assets/index.html.2e78c033.js"><link rel="modulepreload" href="/assets/index.html.f50a2600.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/assets/style.cdb4f165.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="切换侧边栏" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/home_bug.svg" alt="兔子不咬人"><span class="site-name can-hide">兔子不咬人</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/notes" class="router-link-active" aria-label="技术文章"><!--[--><!--]--> 技术文章 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="实验室"><span class="title">实验室</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="实验室"><span class="title">实验室</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/lab/css_layout_flexbox" class="" aria-label="CSS Flex 布局"><!--[--><!--]--> CSS Flex 布局 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lab/css_layout_grid" class="" aria-label="CSS Grid 布局"><!--[--><!--]--> CSS Grid 布局 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lab/web-demo" class="" aria-label="Web 特效演示"><!--[--><!--]--> Web 特效演示 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="常用链接"><span class="title">常用链接</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="常用链接"><span class="title">常用链接</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://pythontutor.com/visualize.html#mode=edit" rel="noopener noreferrer" target="_blank" aria-label="代码执行过程可视化"><!--[--><!--]--> 代码执行过程可视化 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://latex.codecogs.com/" rel="noopener noreferrer" target="_blank" aria-label="latex 公式编辑器"><!--[--><!--]--> latex 公式编辑器 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://asciiflow.com/#/" rel="noopener noreferrer" target="_blank" aria-label="ascii 流程图"><!--[--><!--]--> ascii 流程图 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="http://patorjk.com/software/taag" rel="noopener noreferrer" target="_blank" aria-label="ascii art 生成"><!--[--><!--]--> ascii art 生成 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/ssbunny" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="切换夜间模式"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/notes" class="router-link-active" aria-label="技术文章"><!--[--><!--]--> 技术文章 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="实验室"><span class="title">实验室</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="实验室"><span class="title">实验室</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/lab/css_layout_flexbox" class="" aria-label="CSS Flex 布局"><!--[--><!--]--> CSS Flex 布局 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lab/css_layout_grid" class="" aria-label="CSS Grid 布局"><!--[--><!--]--> CSS Grid 布局 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lab/web-demo" class="" aria-label="Web 特效演示"><!--[--><!--]--> Web 特效演示 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="常用链接"><span class="title">常用链接</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="常用链接"><span class="title">常用链接</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://pythontutor.com/visualize.html#mode=edit" rel="noopener noreferrer" target="_blank" aria-label="代码执行过程可视化"><!--[--><!--]--> 代码执行过程可视化 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://latex.codecogs.com/" rel="noopener noreferrer" target="_blank" aria-label="latex 公式编辑器"><!--[--><!--]--> latex 公式编辑器 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://asciiflow.com/#/" rel="noopener noreferrer" target="_blank" aria-label="ascii 流程图"><!--[--><!--]--> ascii 流程图 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="http://patorjk.com/software/taag" rel="noopener noreferrer" target="_blank" aria-label="ascii art 生成"><!--[--><!--]--> ascii art 生成 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/ssbunny" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">Web 动画技术概览 <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/n2202_web_animation/#性能问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="性能问题"><!--[--><!--]--> 性能问题 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/n2202_web_animation/#动画性能及帧频" class="router-link-active router-link-exact-active sidebar-item" aria-label="动画性能及帧频"><!--[--><!--]--> 动画性能及帧频 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/n2202_web_animation/#渲染管线" class="router-link-active router-link-exact-active sidebar-item" aria-label="渲染管线"><!--[--><!--]--> 渲染管线 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/n2202_web_animation/#何为图层" class="router-link-active router-link-exact-active sidebar-item" aria-label="何为图层？"><!--[--><!--]--> 何为图层？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/n2202_web_animation/#css-与-javascript-性能对比" class="router-link-active router-link-exact-active sidebar-item" aria-label="CSS 与 JavaScript 性能对比"><!--[--><!--]--> CSS 与 JavaScript 性能对比 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/notes/n2202_web_animation/#css-动画" class="router-link-active router-link-exact-active sidebar-item" aria-label="CSS 动画"><!--[--><!--]--> CSS 动画 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/n2202_web_animation/#设置动画" class="router-link-active router-link-exact-active sidebar-item" aria-label="设置动画"><!--[--><!--]--> 设置动画 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/n2202_web_animation/#关键帧" class="router-link-active router-link-exact-active sidebar-item" aria-label="关键帧"><!--[--><!--]--> 关键帧 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/n2202_web_animation/#动画事件" class="router-link-active router-link-exact-active sidebar-item" aria-label="动画事件"><!--[--><!--]--> 动画事件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/n2202_web_animation/#动画减弱" class="router-link-active router-link-exact-active sidebar-item" aria-label="动画减弱"><!--[--><!--]--> 动画减弱 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/notes/n2202_web_animation/#高性能-css-动画" class="router-link-active router-link-exact-active sidebar-item" aria-label="高性能 CSS 动画"><!--[--><!--]--> 高性能 CSS 动画 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/n2202_web_animation/#移动元素" class="router-link-active router-link-exact-active sidebar-item" aria-label="移动元素"><!--[--><!--]--> 移动元素 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/n2202_web_animation/#改变元素大小" class="router-link-active router-link-exact-active sidebar-item" aria-label="改变元素大小"><!--[--><!--]--> 改变元素大小 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/n2202_web_animation/#改变元素可见性" class="router-link-active router-link-exact-active sidebar-item" aria-label="改变元素可见性"><!--[--><!--]--> 改变元素可见性 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/n2202_web_animation/#其它属性" class="router-link-active router-link-exact-active sidebar-item" aria-label="其它属性"><!--[--><!--]--> 其它属性 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/n2202_web_animation/#创建独立的图层" class="router-link-active router-link-exact-active sidebar-item" aria-label="创建独立的图层"><!--[--><!--]--> 创建独立的图层 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/n2202_web_animation/#调试" class="router-link-active router-link-exact-active sidebar-item" aria-label="调试"><!--[--><!--]--> 调试 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/notes/n2202_web_animation/#css-动画示例" class="router-link-active router-link-exact-active sidebar-item" aria-label="CSS 动画示例"><!--[--><!--]--> CSS 动画示例 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/n2202_web_animation/#男巫" class="router-link-active router-link-exact-active sidebar-item" aria-label="男巫"><!--[--><!--]--> 男巫 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/n2202_web_animation/#闪动的圆" class="router-link-active router-link-exact-active sidebar-item" aria-label="闪动的圆"><!--[--><!--]--> 闪动的圆 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/n2202_web_animation/#_3d-球形" class="router-link-active router-link-exact-active sidebar-item" aria-label="3D 球形"><!--[--><!--]--> 3D 球形 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/notes/n2202_web_animation/#web-animations-api" class="router-link-active router-link-exact-active sidebar-item" aria-label="Web Animations API"><!--[--><!--]--> Web Animations API <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/notes/n2202_web_animation/#重要概念" class="router-link-active router-link-exact-active sidebar-item" aria-label="重要概念"><!--[--><!--]--> 重要概念 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/n2202_web_animation/#编写动画" class="router-link-active router-link-exact-active sidebar-item" aria-label="编写动画"><!--[--><!--]--> 编写动画 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/n2202_web_animation/#操控动画" class="router-link-active router-link-exact-active sidebar-item" aria-label="操控动画"><!--[--><!--]--> 操控动画 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/n2202_web_animation/#获取动画信息" class="router-link-active router-link-exact-active sidebar-item" aria-label="获取动画信息"><!--[--><!--]--> 获取动画信息 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/notes/n2202_web_animation/#回调与-promise" class="router-link-active router-link-exact-active sidebar-item" aria-label="回调与 Promise"><!--[--><!--]--> 回调与 Promise <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="web-动画技术概览" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#web-动画技术概览" aria-hidden="true" data-v-3795ca9c>#</a> Web 动画技术概览</h1><h2 id="性能问题" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#性能问题" aria-hidden="true" data-v-3795ca9c>#</a> 性能问题</h2><p data-v-3795ca9c>现代浏览器中，<code data-v-3795ca9c>transform</code> 和 <code data-v-3795ca9c>opacity</code> 拥有良好的动画性能，而处理其它动画时则需要保证 60 FPS 才能得到平滑的用户体验。</p><h3 id="动画性能及帧频" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#动画性能及帧频" aria-hidden="true" data-v-3795ca9c>#</a> 动画性能及帧频</h3><p data-v-3795ca9c>在 Web 上展示动画的理想帧频是 60 FPS ，该帧频下动画会显得更加平滑。 Web 上的一帧是指更新并重新绘制屏幕时要做的所有任务的时间总合。如若每一帧不能够在 16.7ms (1000ms / 60 ≈ 16.7) 内完成，用户便会觉察到延迟的存在。</p><h3 id="渲染管线" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#渲染管线" aria-hidden="true" data-v-3795ca9c>#</a> 渲染管线</h3><p data-v-3795ca9c>浏览器在网页中显示某些内容时，须依次经过以下步骤：</p><ol data-v-3795ca9c><li data-v-3795ca9c><strong data-v-3795ca9c>计算样式( Style )</strong>: 计算应用到元素上的样式。</li><li data-v-3795ca9c><strong data-v-3795ca9c>重排( Layout )</strong>: 产生各个元素的形状和位置。</li><li data-v-3795ca9c><strong data-v-3795ca9c>重绘( Paint )</strong>: 填充各元素的像素至图层( layer )中。</li><li data-v-3795ca9c><strong data-v-3795ca9c>合成( Composite )</strong>: 将各图层绘制在屏幕上。</li></ol><blockquote data-v-3795ca9c><p data-v-3795ca9c>Layout 在此场景下有时也译作“回流”；Composite 也译作“混合”。</p></blockquote><p data-v-3795ca9c>这四个步骤被称为浏览器的 <strong data-v-3795ca9c>渲染管线</strong> 。当已经加载过的页面内容产生动画时，以上步骤会 <strong data-v-3795ca9c>依次</strong> 进行。例如，如果动画改变了重排，重绘及合成会继而执行。正因此，改变重排的代价比改变合成的代价更为昂贵。</p><p data-v-3795ca9c><strong data-v-3795ca9c>Layout</strong></p><p data-v-3795ca9c>重排时需要计算此次变更影响到的所有元素的位置和大小。例如改变 <code data-v-3795ca9c>&lt;html&gt;</code> 元素，则其所有子元素都会受影响。受到元素溢出的影响，改变下游树节点时，也可能导致从头开始进行重排计算。由可见元素所构成的树结构越大，重排计算的耗时越久。</p><p data-v-3795ca9c><strong data-v-3795ca9c>Paint</strong></p><p data-v-3795ca9c><a href="https://developers.google.com/web/updates/2018/09/inside-browser-part3#paint" target="_blank" rel="noopener noreferrer" data-v-3795ca9c>重绘<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a> 通常在渲染管线中最为耗时，它决定了元素按什么顺序绘制到屏幕上。现代浏览中的绘制工作大多在<a href="https://software.intel.com/content/www/us/en/develop/articles/software-vs-gpu-rasterization-in-chromium.html" target="_blank" rel="noopener noreferrer" data-v-3795ca9c>软件光栅器<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a>中完成。</p><p data-v-3795ca9c><strong data-v-3795ca9c>Composite</strong></p><p data-v-3795ca9c><a href="https://developers.google.com/web/updates/2018/09/inside-browser-part3#what_is_compositing" target="_blank" rel="noopener noreferrer" data-v-3795ca9c>合成<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a>过程将页面分离出不同的图层，将页面外观相关的信息转化成像素(光栅化)，再将所有的层合成页面。</p><p data-v-3795ca9c><code data-v-3795ca9c>opacity</code> 属性拥有独立的图层，改变其值可在合成阶段由 GPU 完成，因此基于它的动画消耗相对廉价。基于 Chromium 的浏览器和 WebKit 为所有设置了 CSS transition 和 <code data-v-3795ca9c>opacity</code> 的元素创建了独立的层。</p><blockquote data-v-3795ca9c><p data-v-3795ca9c>深入了解：<a href="https://www.smashingmagazine.com/2016/12/gpu-animation-doing-it-right/" target="_blank" rel="noopener noreferrer" data-v-3795ca9c>GPU Animation: Doing It Right<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></p></blockquote><h3 id="何为图层" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#何为图层" aria-hidden="true" data-v-3795ca9c>#</a> 何为图层？</h3><p data-v-3795ca9c>类似 Photoshop 的图层，浏览器将一些会受动画等影响的可变因素放置在独立的图层中，这样一来重新绘制时只需绘制该层而不再需要绘制所有内容，从而提升性能。</p><p data-v-3795ca9c>通常情况下浏览器已提供了良好的分层策略，如若不满足仍然可以自行创建图层。但自行创建图层会消耗更多的内存，如若设备资源紧张，这样做反而会加剧性能问题。另外，各层纹理需要加载至 GPU ，因此还要考虑 CPU 和 GPU 的带宽限制。</p><blockquote data-v-3795ca9c><p data-v-3795ca9c>深入了解：<a href="https://dassur.ma/things/forcing-layers/" target="_blank" rel="noopener noreferrer" data-v-3795ca9c>Layers and how to force them<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a>.</p></blockquote><h3 id="css-与-javascript-性能对比" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#css-与-javascript-性能对比" aria-hidden="true" data-v-3795ca9c>#</a> CSS 与 JavaScript 性能对比</h3><p data-v-3795ca9c>不同于浏览器的主线程——可以进行样式计算、重排、重绘和 JavaScript 的执行——基于 CSS 的动画以及 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Animations_API" target="_blank" rel="noopener noreferrer" data-v-3795ca9c>Web Animations<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a> 一般会在 <em data-v-3795ca9c>复合线程( compositor thread )</em> 中处理。这意味着如果主线程正在执行耗时任务，并不会打断这类动画的执行。</p><p data-v-3795ca9c>多数场景下，transform 和 opacity 的改变也在复合线程中进行。</p><p data-v-3795ca9c>任何触发了重绘或重排或二者的动画，都需要主线程参与完成。而不管是 CSS 还是 JavaScript 动画，与重绘或重排相比，其执行开销都微乎其微。</p><h2 id="css-动画" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#css-动画" aria-hidden="true" data-v-3795ca9c>#</a> CSS 动画</h2><p data-v-3795ca9c>CSS 动画使元素逐渐从一种样式变为另一种样式。它由两个组件、一个描述动画的样式和一些关键帧组成，关键帧包含了元素在起止状态、中间状态所拥有的样式。</p><p data-v-3795ca9c>相对于传统脚本驱动的动画，CSS 动画有三个优势：</p><ol data-v-3795ca9c><li data-v-3795ca9c>易上手。处理简单动画场景时，甚至不需要会 JavaScript。</li><li data-v-3795ca9c>运行效果更佳。可以利用跳帧等技术使动画表现的更平滑。</li><li data-v-3795ca9c>性能更好。浏览器拥有更多动画序列的控制权，可以更好地优化性能，如降低不可见 Tab 中的动画更新频率。</li></ol><h3 id="设置动画" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#设置动画" aria-hidden="true" data-v-3795ca9c>#</a> 设置动画</h3><p data-v-3795ca9c>创建 CSS 动画时，使用 <code data-v-3795ca9c>animation</code> 属性或其子属性设置相应元素的样式。它只设置动画的时间、持续时长等，但不设置具体样式。具体样式在关键帧 <code data-v-3795ca9c>@keyframes</code> 中定义。</p><p data-v-3795ca9c><code data-v-3795ca9c>animation</code> 的子属性包括：</p><ul data-v-3795ca9c><li data-v-3795ca9c><code data-v-3795ca9c>animation-name</code> 指定相应的 @keyframes 名</li><li data-v-3795ca9c><code data-v-3795ca9c>animation-duration</code> 设定一个动画周期的时长</li><li data-v-3795ca9c><code data-v-3795ca9c>animation-timing-function</code> 设置动画在一个周期内的步进方式</li><li data-v-3795ca9c><code data-v-3795ca9c>animation-delay</code> 设置元素加载完成到动画开始前的延迟时间</li><li data-v-3795ca9c><code data-v-3795ca9c>animation-iteration-count</code> 设置动画的重复次数，可以设置为 <code data-v-3795ca9c>infinite</code> 表示无限循环</li><li data-v-3795ca9c><code data-v-3795ca9c>animation-direction</code> 设置动画方向，或是每次执行完改变方向</li><li data-v-3795ca9c><code data-v-3795ca9c>animation-fill-mode</code> 设置动画执行前后要应用的值</li><li data-v-3795ca9c><code data-v-3795ca9c>animation-play-state</code> 用于暂停或启动动画</li></ul><h3 id="关键帧" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#关键帧" aria-hidden="true" data-v-3795ca9c>#</a> 关键帧</h3><p data-v-3795ca9c>使用 @keyframes 定义动画展现过程。每一帧描述了动画序列中特定时间点元素所拥有的样式。关键帧使用 <a href="/notes/css_summary_2022/#%E7%99%BE%E5%88%86%E6%AF%94" class="" data-v-3795ca9c>百分比</a> 来指定动画发生的时间点。<code data-v-3795ca9c>0%</code> 表示动画的第一时刻（别名 <code data-v-3795ca9c>from</code>），<code data-v-3795ca9c>100%</code> 表示动画的最终时刻（别名 <code data-v-3795ca9c>to</code>）。</p><div class="wraper" data-v-3795ca9c><p class="demo-1" data-v-3795ca9c>这是一个示例</p></div><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token selector" data-v-3795ca9c>.animation</span> <span class="token punctuation" data-v-3795ca9c>{</span>
	<span class="token property" data-v-3795ca9c>position</span><span class="token punctuation" data-v-3795ca9c>:</span> absolute<span class="token punctuation" data-v-3795ca9c>;</span>
	<span class="token property" data-v-3795ca9c>animation-duration</span><span class="token punctuation" data-v-3795ca9c>:</span> 3s<span class="token punctuation" data-v-3795ca9c>;</span>
  	<span class="token property" data-v-3795ca9c>animation-name</span><span class="token punctuation" data-v-3795ca9c>:</span> keyframes_demo<span class="token punctuation" data-v-3795ca9c>;</span>
  	<span class="token property" data-v-3795ca9c>animation-iteration-count</span><span class="token punctuation" data-v-3795ca9c>:</span> infinite<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
<span class="token atrule" data-v-3795ca9c><span class="token rule" data-v-3795ca9c>@keyframes</span> keyframes_demo</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token selector" data-v-3795ca9c>from</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>left</span><span class="token punctuation" data-v-3795ca9c>:</span> 10px<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>25%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>left</span><span class="token punctuation" data-v-3795ca9c>:</span> 200px<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>color</span><span class="token punctuation" data-v-3795ca9c>:</span> red<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>font-size</span><span class="token punctuation" data-v-3795ca9c>:</span> 1.5rem<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>to</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  	<span class="token property" data-v-3795ca9c>left</span><span class="token punctuation" data-v-3795ca9c>:</span> 10px<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="highlight-lines" data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><div class="highlight-line" data-v-3795ca9c> </div><br data-v-3795ca9c><br data-v-3795ca9c><div class="highlight-line" data-v-3795ca9c> </div><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><div class="highlight-line" data-v-3795ca9c> </div><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c></div><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>6</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>7</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>8</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>9</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>10</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>11</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>12</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>13</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>14</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>15</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>16</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>17</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>18</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>19</span><br data-v-3795ca9c></div></div><p data-v-3795ca9c>可以使用 <code data-v-3795ca9c>animation-direction: alternate</code> 使动画来回反复移动：</p><div class="wraper" data-v-3795ca9c><p class="demo demo-2" data-v-3795ca9c>这是一个示例</p></div><p data-v-3795ca9c>可以指定多个动画：</p><div class="wraper" data-v-3795ca9c><div class="demo-3" data-v-3795ca9c></div></div><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token selector" data-v-3795ca9c>.animation</span> <span class="token punctuation" data-v-3795ca9c>{</span>
	<span class="token property" data-v-3795ca9c>animation-name</span><span class="token punctuation" data-v-3795ca9c>:</span> changeColor<span class="token punctuation" data-v-3795ca9c>,</span> moveRight<span class="token punctuation" data-v-3795ca9c>;</span>
	<span class="token property" data-v-3795ca9c>animation-duration</span><span class="token punctuation" data-v-3795ca9c>:</span> 4s<span class="token punctuation" data-v-3795ca9c>;</span>
	<span class="token property" data-v-3795ca9c>animation-iteration-count</span><span class="token punctuation" data-v-3795ca9c>:</span> infinite<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c></div></div><h3 id="动画事件" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#动画事件" aria-hidden="true" data-v-3795ca9c>#</a> 动画事件</h3><p data-v-3795ca9c>需要先绑定监听事件，再通过增加 class 来触发动画。标准代码格式：</p><div class="language-javascript ext-js line-numbers-mode" data-v-3795ca9c><pre class="language-javascript" data-v-3795ca9c><code data-v-3795ca9c><span class="token keyword" data-v-3795ca9c>var</span> element <span class="token operator" data-v-3795ca9c>=</span> document<span class="token punctuation" data-v-3795ca9c>.</span><span class="token function" data-v-3795ca9c>getElementById</span><span class="token punctuation" data-v-3795ca9c>(</span><span class="token string" data-v-3795ca9c>&#39;animatedEl&#39;</span><span class="token punctuation" data-v-3795ca9c>)</span>
element<span class="token punctuation" data-v-3795ca9c>.</span><span class="token function" data-v-3795ca9c>addEventListener</span><span class="token punctuation" data-v-3795ca9c>(</span><span class="token string" data-v-3795ca9c>&#39;animationstart&#39;</span><span class="token punctuation" data-v-3795ca9c>,</span> listener<span class="token punctuation" data-v-3795ca9c>,</span> <span class="token boolean" data-v-3795ca9c>false</span><span class="token punctuation" data-v-3795ca9c>)</span>
element<span class="token punctuation" data-v-3795ca9c>.</span><span class="token function" data-v-3795ca9c>addEventListener</span><span class="token punctuation" data-v-3795ca9c>(</span><span class="token string" data-v-3795ca9c>&#39;animationend&#39;</span><span class="token punctuation" data-v-3795ca9c>,</span> listener<span class="token punctuation" data-v-3795ca9c>,</span> <span class="token boolean" data-v-3795ca9c>false</span><span class="token punctuation" data-v-3795ca9c>)</span>
element<span class="token punctuation" data-v-3795ca9c>.</span><span class="token function" data-v-3795ca9c>addEventListener</span><span class="token punctuation" data-v-3795ca9c>(</span><span class="token string" data-v-3795ca9c>&#39;animationiteration&#39;</span><span class="token punctuation" data-v-3795ca9c>,</span> listener<span class="token punctuation" data-v-3795ca9c>,</span> <span class="token boolean" data-v-3795ca9c>false</span><span class="token punctuation" data-v-3795ca9c>)</span>

element<span class="token punctuation" data-v-3795ca9c>.</span>className <span class="token operator" data-v-3795ca9c>=</span> <span class="token string" data-v-3795ca9c>&#39;moveRight&#39;</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>6</span><br data-v-3795ca9c></div></div><div class="wraper" data-v-3795ca9c><div id="animatedEl" class="demo-event" data-v-3795ca9c></div></div><div style="height:150px;padding:10px;background-color:#EEE;" data-v-3795ca9c><button style="" data-v-3795ca9c>开始执行动画</button><!--[--><!--]--></div><p data-v-3795ca9c>其中，动画设置为：</p><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token selector" data-v-3795ca9c>.moveRight</span> <span class="token punctuation" data-v-3795ca9c>{</span>
	<span class="token property" data-v-3795ca9c>animation-name</span><span class="token punctuation" data-v-3795ca9c>:</span> moveRight<span class="token punctuation" data-v-3795ca9c>;</span>
	<span class="token property" data-v-3795ca9c>animation-duration</span><span class="token punctuation" data-v-3795ca9c>:</span> 4s<span class="token punctuation" data-v-3795ca9c>;</span>
	<span class="token property" data-v-3795ca9c>animation-iteration-count</span><span class="token punctuation" data-v-3795ca9c>:</span> 4<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c></div></div><blockquote data-v-3795ca9c><p data-v-3795ca9c>动画相关各属性更详细的介绍可以轻易从网络获得，此处不再做总结。</p></blockquote><h3 id="动画减弱" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#动画减弱" aria-hidden="true" data-v-3795ca9c>#</a> 动画减弱</h3><p data-v-3795ca9c>使用媒体查询特性 <code data-v-3795ca9c>prefers-reduced-motion</code> 可以检测用户的系统是否开启了动画减弱功能。</p><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token selector" data-v-3795ca9c>.animation</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token property" data-v-3795ca9c>animation</span><span class="token punctuation" data-v-3795ca9c>:</span> vibrate 0.3s linear infinite both<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>

<span class="token atrule" data-v-3795ca9c><span class="token rule" data-v-3795ca9c>@media</span> <span class="token punctuation" data-v-3795ca9c>(</span><span class="token property" data-v-3795ca9c>prefers-reduced-motion</span><span class="token punctuation" data-v-3795ca9c>:</span> reduce<span class="token punctuation" data-v-3795ca9c>)</span></span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token selector" data-v-3795ca9c>.animation</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>animation</span><span class="token punctuation" data-v-3795ca9c>:</span> none<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>6</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>7</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>8</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>9</span><br data-v-3795ca9c></div></div><p data-v-3795ca9c>此功能从 Chrome 74 开始支持。以 MAC OS 为例，开启动画减弱功能：</p><p data-v-3795ca9c><img src="/assets/reduce.61992074.jpg" alt="reduce" data-v-3795ca9c></p><p data-v-3795ca9c>此时本页中的 3D 球体示例将不再有缩放闪动的动画效果。</p><h2 id="高性能-css-动画" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#高性能-css-动画" aria-hidden="true" data-v-3795ca9c>#</a> 高性能 CSS 动画</h2><p data-v-3795ca9c>以下是目前具有良好浏览器兼容性的 CSS 动画属性：</p><ul data-v-3795ca9c><li data-v-3795ca9c><a href="https://developer.mozilla.org/docs/Web/CSS/transform#Browser_compatibility" target="_blank" rel="noopener noreferrer" data-v-3795ca9c><code data-v-3795ca9c>transform</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></li><li data-v-3795ca9c><a href="https://developer.mozilla.org/docs/Web/CSS/opacity#Browser_compatibility" target="_blank" rel="noopener noreferrer" data-v-3795ca9c><code data-v-3795ca9c>opacity</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></li><li data-v-3795ca9c><a href="https://developer.mozilla.org/docs/Web/CSS/will-change#Browser_compatibility" target="_blank" rel="noopener noreferrer" data-v-3795ca9c><code data-v-3795ca9c>will-change</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></li></ul><h3 id="移动元素" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#移动元素" aria-hidden="true" data-v-3795ca9c>#</a> 移动元素</h3><p data-v-3795ca9c>如若要移动元素，可以设置 <code data-v-3795ca9c>transform</code> 属性的值为关键字 <code data-v-3795ca9c>translate</code> 或 <code data-v-3795ca9c>rotation</code>，例如：</p><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token selector" data-v-3795ca9c>.animate</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token property" data-v-3795ca9c>animation</span><span class="token punctuation" data-v-3795ca9c>:</span> slide-in 0.7s both<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>

<span class="token atrule" data-v-3795ca9c><span class="token rule" data-v-3795ca9c>@keyframes</span> slide-in</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token selector" data-v-3795ca9c>0%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>translateY</span><span class="token punctuation" data-v-3795ca9c>(</span>-1000px<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>100%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>translateY</span><span class="token punctuation" data-v-3795ca9c>(</span>0<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>6</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>7</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>8</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>9</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>10</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>11</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>12</span><br data-v-3795ca9c></div></div><p data-v-3795ca9c>或者是设置元素的旋转动画：</p><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token selector" data-v-3795ca9c>.animate</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token property" data-v-3795ca9c>animation</span><span class="token punctuation" data-v-3795ca9c>:</span> rotate 0.7s ease-in-out both<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>

<span class="token atrule" data-v-3795ca9c><span class="token rule" data-v-3795ca9c>@keyframes</span> rotate</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token selector" data-v-3795ca9c>0%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>rotate</span><span class="token punctuation" data-v-3795ca9c>(</span>0<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>100%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>rotate</span><span class="token punctuation" data-v-3795ca9c>(</span>360deg<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>6</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>7</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>8</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>9</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>10</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>11</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>12</span><br data-v-3795ca9c></div></div><h3 id="改变元素大小" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#改变元素大小" aria-hidden="true" data-v-3795ca9c>#</a> 改变元素大小</h3><p data-v-3795ca9c>如若要改变元素的大小，可以设置 <code data-v-3795ca9c>transform</code> 属性的值为关键字 <code data-v-3795ca9c>scale</code>，例如：</p><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token selector" data-v-3795ca9c>.animate</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token property" data-v-3795ca9c>animation</span><span class="token punctuation" data-v-3795ca9c>:</span> scale 1.5s both<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>

<span class="token atrule" data-v-3795ca9c><span class="token rule" data-v-3795ca9c>@keyframes</span> scale</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token selector" data-v-3795ca9c>50%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>scale</span><span class="token punctuation" data-v-3795ca9c>(</span>0.5<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>100%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>scale</span><span class="token punctuation" data-v-3795ca9c>(</span>1<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>6</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>7</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>8</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>9</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>10</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>11</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>12</span><br data-v-3795ca9c></div></div><h3 id="改变元素可见性" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#改变元素可见性" aria-hidden="true" data-v-3795ca9c>#</a> 改变元素可见性</h3><p data-v-3795ca9c>如若要显示或隐藏元素，使用 <code data-v-3795ca9c>opacity</code> 属性：</p><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token selector" data-v-3795ca9c>.animate</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token property" data-v-3795ca9c>animation</span><span class="token punctuation" data-v-3795ca9c>:</span> opacity 2.5s both<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>

<span class="token atrule" data-v-3795ca9c><span class="token rule" data-v-3795ca9c>@keyframes</span> opacity</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token selector" data-v-3795ca9c>0%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>opacity</span><span class="token punctuation" data-v-3795ca9c>:</span> 1<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>50%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>opacity</span><span class="token punctuation" data-v-3795ca9c>:</span> 0<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>100%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>opacity</span><span class="token punctuation" data-v-3795ca9c>:</span> 1<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>6</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>7</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>8</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>9</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>10</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>11</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>12</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>13</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>14</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>15</span><br data-v-3795ca9c></div></div><blockquote data-v-3795ca9c><p data-v-3795ca9c>一个有趣的链接：<a href="https://animista.net/" target="_blank" rel="noopener noreferrer" data-v-3795ca9c>Animista<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></p></blockquote><h3 id="其它属性" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#其它属性" aria-hidden="true" data-v-3795ca9c>#</a> 其它属性</h3><p data-v-3795ca9c>当使用 <code data-v-3795ca9c>transform</code> 和 <code data-v-3795ca9c>opacity</code> 以外的其它 CSS 属性作为动画时，可通过 <a href="https://csstriggers.com/" target="_blank" rel="noopener noreferrer" data-v-3795ca9c>CSS Triggers<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a> 查阅各属性在 <em data-v-3795ca9c>渲染管线</em> 中产生的影响，如非必要，要避免使用触发重排或重绘的属性。</p><blockquote data-v-3795ca9c><p data-v-3795ca9c>注意：使用触发重排或重绘的属性，通常会导致动画不再平滑或高性能。</p></blockquote><h3 id="创建独立的图层" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#创建独立的图层" aria-hidden="true" data-v-3795ca9c>#</a> 创建独立的图层</h3><p data-v-3795ca9c>前文已提及，独立的图层可以减少多余的重绘操作，可以使用 <a href="https://developer.mozilla.org/docs/Web/CSS/will-change" target="_blank" rel="noopener noreferrer" data-v-3795ca9c><code data-v-3795ca9c>will-change</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a> 属性创建独立的图层。它是改善动画性能的最后保障手段，性能问题不到糟糕透顶的程度一般不要使用。</p><p data-v-3795ca9c>该属性可被用在任意 CSS 选择器中：</p><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token selector" data-v-3795ca9c>body &gt; .sidebar</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token property" data-v-3795ca9c>will-change</span><span class="token punctuation" data-v-3795ca9c>:</span> transform<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c></div></div><p data-v-3795ca9c>在 IE 等不支持该属性的浏览器中，可以使用 <code data-v-3795ca9c>transform: translateZ(0)</code> 开启独立的图层。其原理是使用 3D 渲染，强制开启 GPU 硬件加速。</p><blockquote data-v-3795ca9c><p data-v-3795ca9c>深入了解：<a href="https://dev.opera.com/articles/css-will-change-property/" target="_blank" rel="noopener noreferrer" data-v-3795ca9c>Everything You Need To Know About The CSS <code data-v-3795ca9c>will-change</code> Property<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a>.</p></blockquote><h3 id="调试" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#调试" aria-hidden="true" data-v-3795ca9c>#</a> 调试</h3><p data-v-3795ca9c>可以使用 Chrome 开发者工具针对性能较差的动画进行调试。</p><h4 id="_1-检查动画是否触发了重排" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#_1-检查动画是否触发了重排" aria-hidden="true" data-v-3795ca9c>#</a> 1. 检查动画是否触发了重排</h4><p data-v-3795ca9c>使用 <code data-v-3795ca9c>transform</code> 以外的方式移动元素时，可能导致动画性能较差。下面的例子比较了使用 <code data-v-3795ca9c>top</code> 和 <code data-v-3795ca9c>left</code> 与使用 <code data-v-3795ca9c>transform</code> 做移动之间的区别：</p><div class="code-group" data-v-3795ca9c><div class="code-group__nav"><ul class="code-group__ul"><li class="code-group__li"><button class="code-group__nav-tab code-group__nav-tab-active" ariapressed="true" ariaexpanded="true">使用 top 和 left</button></li><li class="code-group__li"><button class="code-group__nav-tab" ariapressed="false" ariaexpanded="false">使用 translate</button></li></ul></div><!--[--><div class="code-group-item code-group-item__active" aria-selected="true" data-v-3795ca9c><!--[--><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token selector" data-v-3795ca9c>.box</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token property" data-v-3795ca9c>position</span><span class="token punctuation" data-v-3795ca9c>:</span> absolute<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>top</span><span class="token punctuation" data-v-3795ca9c>:</span> 10px<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>left</span><span class="token punctuation" data-v-3795ca9c>:</span> 10px<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>animation</span><span class="token punctuation" data-v-3795ca9c>:</span> move 3s ease infinite<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>

<span class="token atrule" data-v-3795ca9c><span class="token rule" data-v-3795ca9c>@keyframes</span> move</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token selector" data-v-3795ca9c>50%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
     <span class="token property" data-v-3795ca9c>top</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>calc</span><span class="token punctuation" data-v-3795ca9c>(</span>90vh - 160px<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
     <span class="token property" data-v-3795ca9c>left</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>calc</span><span class="token punctuation" data-v-3795ca9c>(</span>90vw - 200px<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="highlight-lines" data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><div class="highlight-line" data-v-3795ca9c> </div><div class="highlight-line" data-v-3795ca9c> </div><br data-v-3795ca9c><br data-v-3795ca9c></div><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>6</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>7</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>8</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>9</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>10</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>11</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>12</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>13</span><br data-v-3795ca9c></div></div><!--]--></div><div class="code-group-item" aria-selected="false" data-v-3795ca9c><!--[--><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token selector" data-v-3795ca9c>.box</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token property" data-v-3795ca9c>position</span><span class="token punctuation" data-v-3795ca9c>:</span> absolute<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>top</span><span class="token punctuation" data-v-3795ca9c>:</span> 10px<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>left</span><span class="token punctuation" data-v-3795ca9c>:</span> 10px<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>animation</span><span class="token punctuation" data-v-3795ca9c>:</span> move 3s ease infinite<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>

<span class="token atrule" data-v-3795ca9c><span class="token rule" data-v-3795ca9c>@keyframes</span> move</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token selector" data-v-3795ca9c>50%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
     <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>translate</span><span class="token punctuation" data-v-3795ca9c>(</span><span class="token function" data-v-3795ca9c>calc</span><span class="token punctuation" data-v-3795ca9c>(</span>90vw - 200px<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>,</span> <span class="token function" data-v-3795ca9c>calc</span><span class="token punctuation" data-v-3795ca9c>(</span>90vh - 160px<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="highlight-lines" data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><div class="highlight-line" data-v-3795ca9c> </div><br data-v-3795ca9c><br data-v-3795ca9c></div><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>6</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>7</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>8</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>9</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>10</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>11</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>12</span><br data-v-3795ca9c></div></div><!--]--></div><!--]--></div><ul data-v-3795ca9c><li data-v-3795ca9c><a href="https://animation-with-top-left.glitch.me/" target="_blank" rel="noopener noreferrer" data-v-3795ca9c>使用 top 和 left<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a>.</li><li data-v-3795ca9c><a href="https://animation-with-transform.glitch.me/" target="_blank" rel="noopener noreferrer" data-v-3795ca9c>使用 translate<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a>.</li></ul><p data-v-3795ca9c>使用 Chrome 开发者工具：</p><ol data-v-3795ca9c><li data-v-3795ca9c>打开 <strong data-v-3795ca9c>Performance</strong> 面板。</li><li data-v-3795ca9c>记录动画运行时的性能。</li><li data-v-3795ca9c>查看 <strong data-v-3795ca9c>Summary</strong> 页签。</li></ol><p data-v-3795ca9c><strong data-v-3795ca9c>Summary</strong> 页签中的 <strong data-v-3795ca9c>Rendering</strong> 若为非零的值，说明动画导致了重排。</p><p data-v-3795ca9c><img src="/assets/topleft.ac307128.jpg" alt="使用 top 和 left" data-v-3795ca9c></p><p data-v-3795ca9c><img src="/assets/transform.3bdde52f.jpg" alt="使用 translate" data-v-3795ca9c></p><h4 id="_2-检查动画是否丢帧" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#_2-检查动画是否丢帧" aria-hidden="true" data-v-3795ca9c>#</a> 2. 检查动画是否丢帧</h4><p data-v-3795ca9c>使用 Chrome 开发者工具：</p><ol data-v-3795ca9c><li data-v-3795ca9c>打开 <strong data-v-3795ca9c>Rendering</strong> 页签。</li><li data-v-3795ca9c>勾选：</li></ol><p data-v-3795ca9c><img src="/assets/frame.4a79b254.jpg" alt="frame" data-v-3795ca9c></p><ol start="3" data-v-3795ca9c><li data-v-3795ca9c>观察动画的运行：</li></ol><p data-v-3795ca9c><img src="/assets/frame-rate.886f2ca9.jpg" alt="frame-rate" data-v-3795ca9c></p><h4 id="_3-检查动画是否触发了重绘" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#_3-检查动画是否触发了重绘" aria-hidden="true" data-v-3795ca9c>#</a> 3. 检查动画是否触发了重绘</h4><p data-v-3795ca9c>重绘过程通常很耗性能，而且不容易通过 CSS 属性直观地看出来。使用 Chrome 开发者工具检测哪些区域产生了重绘：</p><ol data-v-3795ca9c><li data-v-3795ca9c>打开 <strong data-v-3795ca9c>Rendering</strong> 页签。</li><li data-v-3795ca9c>选择 <strong data-v-3795ca9c>Paint Flashing</strong>：</li></ol><p data-v-3795ca9c><img src="/assets/repaint.7b6544f5.jpg" alt="repaint" data-v-3795ca9c></p><ol start="3" data-v-3795ca9c><li data-v-3795ca9c>观察屏幕中产生重绘的高亮区域。</li></ol><p data-v-3795ca9c>如若需要深入追踪是否某个属性引起了性能问题，可通过 paint profiler 面板进行。</p><h2 id="css-动画示例" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#css-动画示例" aria-hidden="true" data-v-3795ca9c>#</a> CSS 动画示例</h2><h3 id="男巫" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#男巫" aria-hidden="true" data-v-3795ca9c>#</a> 男巫</h3><p data-v-3795ca9c><a href="https://zhangqiang.work/worship/web-demo/css3/wizard" target="_blank" rel="noopener noreferrer" data-v-3795ca9c>示例：使用 CSS 绘制的男巫<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a></p><p data-v-3795ca9c>我捕获了大约 10s 的动画过程，可以看到，该动画不会触发任何重排及重绘操作：</p><p data-v-3795ca9c><img src="/assets/no_layout_repaint.71fac06a.jpg" alt="no_layout_repaint" data-v-3795ca9c></p><p data-v-3795ca9c>以其中的三角形物体为例，首先通过 <code data-v-3795ca9c>::after</code> 伪元素绘制其形状：</p><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token selector" data-v-3795ca9c>.triangle</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>position</span><span class="token punctuation" data-v-3795ca9c>:</span> absolute<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>bottom</span><span class="token punctuation" data-v-3795ca9c>:</span> -62px<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>left</span><span class="token punctuation" data-v-3795ca9c>:</span> -10px<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>width</span><span class="token punctuation" data-v-3795ca9c>:</span> 110px<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>height</span><span class="token punctuation" data-v-3795ca9c>:</span> 110px<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>border-radius</span><span class="token punctuation" data-v-3795ca9c>:</span> 50%<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>

<span class="token selector" data-v-3795ca9c>.triangle::after</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>content</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token string" data-v-3795ca9c>&quot;&quot;</span><span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>position</span><span class="token punctuation" data-v-3795ca9c>:</span> absolute<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>top</span><span class="token punctuation" data-v-3795ca9c>:</span> 0<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>right</span><span class="token punctuation" data-v-3795ca9c>:</span> -10px<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>width</span><span class="token punctuation" data-v-3795ca9c>:</span> 0<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>height</span><span class="token punctuation" data-v-3795ca9c>:</span> 0<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>border-style</span><span class="token punctuation" data-v-3795ca9c>:</span> solid<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>border-width</span><span class="token punctuation" data-v-3795ca9c>:</span> 0 28px 48px 28px<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>border-color</span><span class="token punctuation" data-v-3795ca9c>:</span> transparent transparent #89beb3 transparent<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>6</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>7</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>8</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>9</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>10</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>11</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>12</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>13</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>14</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>15</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>16</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>17</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>18</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>19</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>20</span><br data-v-3795ca9c></div></div><p data-v-3795ca9c>然后增加动画：</p><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token property" data-v-3795ca9c>animation</span><span class="token punctuation" data-v-3795ca9c>:</span> path_triangle 10s ease-in-out infinite<span class="token punctuation" data-v-3795ca9c>;</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c></div></div><p data-v-3795ca9c>在 Chome 开发者工具的 Styles 面板中可以看到其动画的关键帧，它们是使用 <code data-v-3795ca9c>transform</code> 产生的动画，该属性不会产生重排和重绘。</p><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token atrule" data-v-3795ca9c><span class="token rule" data-v-3795ca9c>@keyframes</span> path_triangle</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token selector" data-v-3795ca9c>0%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>translateY</span><span class="token punctuation" data-v-3795ca9c>(</span>0<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>10%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>translateY</span><span class="token punctuation" data-v-3795ca9c>(</span>-172px<span class="token punctuation" data-v-3795ca9c>)</span> <span class="token function" data-v-3795ca9c>translatex</span><span class="token punctuation" data-v-3795ca9c>(</span>10px<span class="token punctuation" data-v-3795ca9c>)</span> <span class="token function" data-v-3795ca9c>rotate</span><span class="token punctuation" data-v-3795ca9c>(</span>-10deg<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>55%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>translateY</span><span class="token punctuation" data-v-3795ca9c>(</span>-172px<span class="token punctuation" data-v-3795ca9c>)</span> <span class="token function" data-v-3795ca9c>translatex</span><span class="token punctuation" data-v-3795ca9c>(</span>10px<span class="token punctuation" data-v-3795ca9c>)</span> <span class="token function" data-v-3795ca9c>rotate</span><span class="token punctuation" data-v-3795ca9c>(</span>-365deg<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>58%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>translateY</span><span class="token punctuation" data-v-3795ca9c>(</span>-172px<span class="token punctuation" data-v-3795ca9c>)</span> <span class="token function" data-v-3795ca9c>translatex</span><span class="token punctuation" data-v-3795ca9c>(</span>10px<span class="token punctuation" data-v-3795ca9c>)</span> <span class="token function" data-v-3795ca9c>rotate</span><span class="token punctuation" data-v-3795ca9c>(</span>-365deg<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>63%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>rotate</span><span class="token punctuation" data-v-3795ca9c>(</span>-360deg<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>6</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>7</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>8</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>9</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>10</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>11</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>12</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>13</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>14</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>15</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>16</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>17</span><br data-v-3795ca9c></div></div><p data-v-3795ca9c>其它部分也是用了类似的动画技术，因而很平滑。</p><h3 id="闪动的圆" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#闪动的圆" aria-hidden="true" data-v-3795ca9c>#</a> 闪动的圆</h3><p data-v-3795ca9c>该动画可以在网页中作为“注意”点来使用：</p><div class="wraper circle" data-v-3795ca9c><div class="pulsating-circle" data-v-3795ca9c></div></div><p data-v-3795ca9c>首先使用样式名为 <code data-v-3795ca9c>pulsating-circle</code> 的 <code data-v-3795ca9c>&lt;div&gt;</code> 来标记该圆的位置（但并不真正画圆），此示例使其 <a href="/notes/centering_in_css/" class="" data-v-3795ca9c>水平垂直居中</a> ：</p><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token selector" data-v-3795ca9c>.pulsating-circle</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>position</span><span class="token punctuation" data-v-3795ca9c>:</span> absolute<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>left</span><span class="token punctuation" data-v-3795ca9c>:</span> 50%<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>top</span><span class="token punctuation" data-v-3795ca9c>:</span> 50%<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>translateX</span><span class="token punctuation" data-v-3795ca9c>(</span>-50%<span class="token punctuation" data-v-3795ca9c>)</span> <span class="token function" data-v-3795ca9c>translateY</span><span class="token punctuation" data-v-3795ca9c>(</span>-50%<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>width</span><span class="token punctuation" data-v-3795ca9c>:</span> 30px<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>height</span><span class="token punctuation" data-v-3795ca9c>:</span> 30px<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>6</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>7</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>8</span><br data-v-3795ca9c></div></div><p data-v-3795ca9c>真正的圆和相应动画使用 <code data-v-3795ca9c>::before</code> 及 <code data-v-3795ca9c>::after</code> 实现。 <code data-v-3795ca9c>::before</code> 元素绘制了外层的圆，并使用动画 <code data-v-3795ca9c>pulse-ring</code> ，该动画改变了 <code data-v-3795ca9c>transform: scale</code> 和 <code data-v-3795ca9c>opacity</code> ：</p><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token selector" data-v-3795ca9c>.pulsating-circle::before</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>content</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token string" data-v-3795ca9c>&#39;&#39;</span><span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>position</span><span class="token punctuation" data-v-3795ca9c>:</span> relative<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>display</span><span class="token punctuation" data-v-3795ca9c>:</span> block<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>width</span><span class="token punctuation" data-v-3795ca9c>:</span> 300%<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>height</span><span class="token punctuation" data-v-3795ca9c>:</span> 300%<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>box-sizing</span><span class="token punctuation" data-v-3795ca9c>:</span> border-box<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>margin-left</span><span class="token punctuation" data-v-3795ca9c>:</span> -100%<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>margin-top</span><span class="token punctuation" data-v-3795ca9c>:</span> -100%<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>border-radius</span><span class="token punctuation" data-v-3795ca9c>:</span> 45px<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>background-color</span><span class="token punctuation" data-v-3795ca9c>:</span> #01a4e9<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token comment" data-v-3795ca9c>/* animation-timing-function 使用的是 cubic-bezier 函数 */</span>
    <span class="token property" data-v-3795ca9c>animation</span><span class="token punctuation" data-v-3795ca9c>:</span> pulse-ring 1.25s <span class="token function" data-v-3795ca9c>cubic-bezier</span><span class="token punctuation" data-v-3795ca9c>(</span>0.215<span class="token punctuation" data-v-3795ca9c>,</span> 0.61<span class="token punctuation" data-v-3795ca9c>,</span> 0.355<span class="token punctuation" data-v-3795ca9c>,</span> 1<span class="token punctuation" data-v-3795ca9c>)</span> infinite<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>

<span class="token atrule" data-v-3795ca9c><span class="token rule" data-v-3795ca9c>@keyframes</span> pulse-ring</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token selector" data-v-3795ca9c>0%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>scale</span><span class="token punctuation" data-v-3795ca9c>(</span>0.33<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>80%, 100%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>opacity</span><span class="token punctuation" data-v-3795ca9c>:</span> 0<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="highlight-lines" data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><br data-v-3795ca9c><div class="highlight-line" data-v-3795ca9c> </div><br data-v-3795ca9c><br data-v-3795ca9c><div class="highlight-line" data-v-3795ca9c> </div><br data-v-3795ca9c><br data-v-3795ca9c></div><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>6</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>7</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>8</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>9</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>10</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>11</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>12</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>13</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>14</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>15</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>16</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>17</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>18</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>19</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>20</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>21</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>22</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>23</span><br data-v-3795ca9c></div></div><p data-v-3795ca9c>内层白色的圆使用 <code data-v-3795ca9c>::after</code> 伪元素创建， 动画 <code data-v-3795ca9c>pulse-dot</code> 同样使用 <code data-v-3795ca9c>transform: scale</code> 实现其闪动效果：</p><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token selector" data-v-3795ca9c>.pulsating-circle::after</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token property" data-v-3795ca9c>content</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token string" data-v-3795ca9c>&#39;&#39;</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>position</span><span class="token punctuation" data-v-3795ca9c>:</span> absolute<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>left</span><span class="token punctuation" data-v-3795ca9c>:</span> 0<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>top</span><span class="token punctuation" data-v-3795ca9c>:</span> 0<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>display</span><span class="token punctuation" data-v-3795ca9c>:</span> block<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>width</span><span class="token punctuation" data-v-3795ca9c>:</span> 100%<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>height</span><span class="token punctuation" data-v-3795ca9c>:</span> 100%<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>background-color</span><span class="token punctuation" data-v-3795ca9c>:</span> white<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>border-radius</span><span class="token punctuation" data-v-3795ca9c>:</span> 15px<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>box-shadow</span><span class="token punctuation" data-v-3795ca9c>:</span> 0 0 8px <span class="token function" data-v-3795ca9c>rgba</span><span class="token punctuation" data-v-3795ca9c>(</span>0<span class="token punctuation" data-v-3795ca9c>,</span> 0<span class="token punctuation" data-v-3795ca9c>,</span> 0<span class="token punctuation" data-v-3795ca9c>,</span> 0.3<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>animation</span><span class="token punctuation" data-v-3795ca9c>:</span> pulse-dot 1.25s <span class="token function" data-v-3795ca9c>cubic-bezier</span><span class="token punctuation" data-v-3795ca9c>(</span>0.455<span class="token punctuation" data-v-3795ca9c>,</span> 0.03<span class="token punctuation" data-v-3795ca9c>,</span> 0.515<span class="token punctuation" data-v-3795ca9c>,</span> 0.955<span class="token punctuation" data-v-3795ca9c>)</span> -0.4s infinite<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>

<span class="token atrule" data-v-3795ca9c><span class="token rule" data-v-3795ca9c>@keyframes</span> pulse-dot</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token selector" data-v-3795ca9c>0%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>scale</span><span class="token punctuation" data-v-3795ca9c>(</span>0.8<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>50%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>scale</span><span class="token punctuation" data-v-3795ca9c>(</span>1<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>100%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>scale</span><span class="token punctuation" data-v-3795ca9c>(</span>0.8<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>6</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>7</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>8</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>9</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>10</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>11</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>12</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>13</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>14</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>15</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>16</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>17</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>18</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>19</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>20</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>21</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>22</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>23</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>24</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>25</span><br data-v-3795ca9c></div></div><h3 id="_3d-球形" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#_3d-球形" aria-hidden="true" data-v-3795ca9c>#</a> 3D 球形</h3><p data-v-3795ca9c>一个看似复杂，原理却很简单的例子：</p><div class="wraper" data-v-3795ca9c><div class="sphere" data-v-3795ca9c><!--[--><div class="plane" style="transform: rotateY(15deg)" data-v-3795ca9c><!--[--><div class="spoke" style="transform: rotateZ(10deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(20deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(30deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(40deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(50deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(60deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(70deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(80deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(90deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(100deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(110deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(120deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(130deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(140deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(150deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(160deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(170deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(180deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(190deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(200deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(210deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(220deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(230deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(240deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(250deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(260deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(270deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(280deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(290deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(300deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(310deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(320deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(330deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(340deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(350deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(360deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><!--]--></div><div class="plane" style="transform: rotateY(30deg)" data-v-3795ca9c><!--[--><div class="spoke" style="transform: rotateZ(10deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(20deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(30deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(40deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(50deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(60deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(70deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(80deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(90deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(100deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(110deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(120deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(130deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(140deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(150deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(160deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(170deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(180deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(190deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(200deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(210deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(220deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(230deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(240deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(250deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(260deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(270deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(280deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(290deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(300deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(310deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(320deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(330deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(340deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(350deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(360deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><!--]--></div><div class="plane" style="transform: rotateY(45deg)" data-v-3795ca9c><!--[--><div class="spoke" style="transform: rotateZ(10deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(20deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(30deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(40deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(50deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(60deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(70deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(80deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(90deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(100deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(110deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(120deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(130deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(140deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(150deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(160deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(170deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(180deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(190deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(200deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(210deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(220deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(230deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(240deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(250deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(260deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(270deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(280deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(290deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(300deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(310deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(320deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(330deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(340deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(350deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(360deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><!--]--></div><div class="plane" style="transform: rotateY(60deg)" data-v-3795ca9c><!--[--><div class="spoke" style="transform: rotateZ(10deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(20deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(30deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(40deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(50deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(60deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(70deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(80deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(90deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(100deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(110deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(120deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(130deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(140deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(150deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(160deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(170deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(180deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(190deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(200deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(210deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(220deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(230deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(240deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(250deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(260deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(270deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(280deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(290deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(300deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(310deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(320deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(330deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(340deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(350deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(360deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><!--]--></div><div class="plane" style="transform: rotateY(75deg)" data-v-3795ca9c><!--[--><div class="spoke" style="transform: rotateZ(10deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(20deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(30deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(40deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(50deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(60deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(70deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(80deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(90deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(100deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(110deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(120deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(130deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(140deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(150deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(160deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(170deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(180deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(190deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(200deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(210deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(220deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(230deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(240deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(250deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(260deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(270deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(280deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(290deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(300deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(310deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(320deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(330deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(340deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(350deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(360deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><!--]--></div><div class="plane" style="transform: rotateY(90deg)" data-v-3795ca9c><!--[--><div class="spoke" style="transform: rotateZ(10deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(20deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(30deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(40deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(50deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(60deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(70deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(80deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(90deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(100deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(110deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(120deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(130deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(140deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(150deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(160deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(170deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(180deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(190deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(200deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(210deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(220deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(230deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(240deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(250deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(260deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(270deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(280deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(290deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(300deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(310deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(320deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(330deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(340deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(350deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(360deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><!--]--></div><div class="plane" style="transform: rotateY(105deg)" data-v-3795ca9c><!--[--><div class="spoke" style="transform: rotateZ(10deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(20deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(30deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(40deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(50deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(60deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(70deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(80deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(90deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(100deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(110deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(120deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(130deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(140deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(150deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(160deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(170deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(180deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(190deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(200deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(210deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(220deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(230deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(240deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(250deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(260deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(270deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(280deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(290deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(300deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(310deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(320deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(330deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(340deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(350deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(360deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><!--]--></div><div class="plane" style="transform: rotateY(120deg)" data-v-3795ca9c><!--[--><div class="spoke" style="transform: rotateZ(10deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(20deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(30deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(40deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(50deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(60deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(70deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(80deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(90deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(100deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(110deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(120deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(130deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(140deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(150deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(160deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(170deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(180deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(190deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(200deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(210deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(220deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(230deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(240deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(250deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(260deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(270deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(280deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(290deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(300deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(310deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(320deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(330deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(340deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(350deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(360deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><!--]--></div><div class="plane" style="transform: rotateY(135deg)" data-v-3795ca9c><!--[--><div class="spoke" style="transform: rotateZ(10deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(20deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(30deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(40deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(50deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(60deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(70deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(80deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(90deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(100deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(110deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(120deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(130deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(140deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(150deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(160deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(170deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(180deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(190deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(200deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(210deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(220deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(230deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(240deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(250deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(260deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(270deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(280deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(290deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(300deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(310deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(320deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(330deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(340deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(350deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(360deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><!--]--></div><div class="plane" style="transform: rotateY(150deg)" data-v-3795ca9c><!--[--><div class="spoke" style="transform: rotateZ(10deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(20deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(30deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(40deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(50deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(60deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(70deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(80deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(90deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(100deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(110deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(120deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(130deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(140deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(150deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(160deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(170deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(180deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(190deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(200deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(210deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(220deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(230deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(240deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(250deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(260deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(270deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(280deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(290deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(300deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(310deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(320deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(330deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(340deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(350deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(360deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><!--]--></div><div class="plane" style="transform: rotateY(165deg)" data-v-3795ca9c><!--[--><div class="spoke" style="transform: rotateZ(10deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(20deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(30deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(40deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(50deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(60deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(70deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(80deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(90deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(100deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(110deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(120deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(130deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(140deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(150deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(160deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(170deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(180deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(190deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(200deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(210deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(220deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(230deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(240deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(250deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(260deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(270deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(280deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(290deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(300deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(310deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(320deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(330deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(340deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(350deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(360deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><!--]--></div><div class="plane" style="transform: rotateY(180deg)" data-v-3795ca9c><!--[--><div class="spoke" style="transform: rotateZ(10deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(20deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(30deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(40deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(50deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(60deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(70deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(80deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(90deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(100deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(110deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(120deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(130deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(140deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(150deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(160deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(170deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(180deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(190deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(200deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(210deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(220deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(230deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(240deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(250deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(260deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(270deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(280deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(290deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(300deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(310deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(320deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(330deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(340deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(350deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><div class="spoke" style="transform: rotateZ(360deg);" data-v-3795ca9c><div class="dot" data-v-3795ca9c></div></div><!--]--></div><!--]--></div></div><p data-v-3795ca9c>它只是用到了大量的元素组合成了该效果。首先是包裹元素，使用了 3D 旋转效果 <code data-v-3795ca9c>transform: rotate3d</code> ：</p><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token selector" data-v-3795ca9c>.sphere-wrapper</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token property" data-v-3795ca9c>transform-style</span><span class="token punctuation" data-v-3795ca9c>:</span> preserve-3d<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>width</span><span class="token punctuation" data-v-3795ca9c>:</span> 300px<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>height</span><span class="token punctuation" data-v-3795ca9c>:</span> 300px<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>position</span><span class="token punctuation" data-v-3795ca9c>:</span> relative<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>animation</span><span class="token punctuation" data-v-3795ca9c>:</span> rotate3d 10s linear infinite<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>

<span class="token atrule" data-v-3795ca9c><span class="token rule" data-v-3795ca9c>@keyframes</span> rotate3d</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token selector" data-v-3795ca9c>0%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>rotate3d</span><span class="token punctuation" data-v-3795ca9c>(</span>1<span class="token punctuation" data-v-3795ca9c>,</span> 1<span class="token punctuation" data-v-3795ca9c>,</span> 1<span class="token punctuation" data-v-3795ca9c>,</span> 0deg<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>25%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>rotate3d</span><span class="token punctuation" data-v-3795ca9c>(</span>1<span class="token punctuation" data-v-3795ca9c>,</span> 1<span class="token punctuation" data-v-3795ca9c>,</span> 1<span class="token punctuation" data-v-3795ca9c>,</span> 90deg<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>50%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>rotate3d</span><span class="token punctuation" data-v-3795ca9c>(</span>1<span class="token punctuation" data-v-3795ca9c>,</span> 1<span class="token punctuation" data-v-3795ca9c>,</span> 1<span class="token punctuation" data-v-3795ca9c>,</span> 180deg<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>75%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>rotate3d</span><span class="token punctuation" data-v-3795ca9c>(</span>1<span class="token punctuation" data-v-3795ca9c>,</span> 1<span class="token punctuation" data-v-3795ca9c>,</span> 1<span class="token punctuation" data-v-3795ca9c>,</span> 270deg<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>100%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>rotate3d</span><span class="token punctuation" data-v-3795ca9c>(</span>1<span class="token punctuation" data-v-3795ca9c>,</span> 1<span class="token punctuation" data-v-3795ca9c>,</span> 1<span class="token punctuation" data-v-3795ca9c>,</span> 360deg<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>6</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>7</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>8</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>9</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>10</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>11</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>12</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>13</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>14</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>15</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>16</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>17</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>18</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>19</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>20</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>21</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>22</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>23</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>24</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>25</span><br data-v-3795ca9c></div></div><div class="wraper" data-v-3795ca9c><div class="sphere" style="background-color:var(--c-brand);" data-v-3795ca9c></div></div><p data-v-3795ca9c>内部的所有点，通过 <code data-v-3795ca9c>plane</code> 和 <code data-v-3795ca9c>spoke</code> 元素，排列在不同的平面上，然后再对它们设置旋转动画：</p><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token selector" data-v-3795ca9c>.dot</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token property" data-v-3795ca9c>animation</span><span class="token punctuation" data-v-3795ca9c>:</span> pulsate 0.5s infinite 0.83333333s alternate both<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token property" data-v-3795ca9c>background-color</span><span class="token punctuation" data-v-3795ca9c>:</span> #55ffee<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>

<span class="token atrule" data-v-3795ca9c><span class="token rule" data-v-3795ca9c>@keyframes</span> pulsate</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token selector" data-v-3795ca9c>0%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>rotateX</span><span class="token punctuation" data-v-3795ca9c>(</span>90deg<span class="token punctuation" data-v-3795ca9c>)</span> <span class="token function" data-v-3795ca9c>scale</span><span class="token punctuation" data-v-3795ca9c>(</span>0.3<span class="token punctuation" data-v-3795ca9c>)</span> <span class="token function" data-v-3795ca9c>translateZ</span><span class="token punctuation" data-v-3795ca9c>(</span>20px<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>100%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>rotateX</span><span class="token punctuation" data-v-3795ca9c>(</span>90deg<span class="token punctuation" data-v-3795ca9c>)</span> <span class="token function" data-v-3795ca9c>scale</span><span class="token punctuation" data-v-3795ca9c>(</span>1<span class="token punctuation" data-v-3795ca9c>)</span> <span class="token function" data-v-3795ca9c>translateZ</span><span class="token punctuation" data-v-3795ca9c>(</span>0px<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>6</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>7</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>8</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>9</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>10</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>11</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>12</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>13</span><br data-v-3795ca9c></div></div><h2 id="web-animations-api" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#web-animations-api" aria-hidden="true" data-v-3795ca9c>#</a> Web Animations API</h2><p data-v-3795ca9c>Web Animations API ( WAAPI ) 使用 JavaScript 访问浏览器动画引擎，是 CSS Animations 和 CSS Transitions 的底层实现。使用它可以避免直接往元素中增加 CSS 属性等重 DOM 技术。</p><h3 id="重要概念" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#重要概念" aria-hidden="true" data-v-3795ca9c>#</a> 重要概念</h3><p data-v-3795ca9c>WAAPI 运行在两种模型下：</p><ul data-v-3795ca9c><li data-v-3795ca9c><strong data-v-3795ca9c>时序模型</strong>：保持处理动画的时间线轨迹</li><li data-v-3795ca9c><strong data-v-3795ca9c>动画模型</strong>：决定特定时间点动画对象的外观</li></ul><p data-v-3795ca9c>时序模型是 WAAPI 的基石。每个 document 都有主时间线 <code data-v-3795ca9c>Document.timeline</code> ，它从页面加载一直延续到窗口关闭。动画从主时间线上的某一点 <code data-v-3795ca9c>Animation.startTime</code> 开始, 基于主时间线播放。如改变位置、加减速、重复执行等。</p><p data-v-3795ca9c>动画模型可理解为一组特定时间点的快照，并在持续时间 <code data-v-3795ca9c>duration</code> 内连接起来。</p><h4 id="核心对象" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#核心对象" aria-hidden="true" data-v-3795ca9c>#</a> 核心对象</h4><p data-v-3795ca9c><strong data-v-3795ca9c>Timeline：</strong> 其中的重要属性 <code data-v-3795ca9c>currentTime</code> 表示动画的当前时间。“当前”是指相对于 document 的时间。（目前只有 <code data-v-3795ca9c>Document.timeline</code> 一种时间线。）</p><p data-v-3795ca9c><strong data-v-3795ca9c>Animation：</strong> 控制动画的播放。就像 DVD 播放机一样，控制动画的开始、暂停、播放的方向及速度等。但如果未放入 DVD 则不会起作用。</p><p data-v-3795ca9c><strong data-v-3795ca9c>AnimationEffect：</strong> 就像 DVD ，它是一组绑定在一起的信息，如动画持续时间等。Animation 对象使用它完成动画的播放。目前只有 <code data-v-3795ca9c>KeyframeEffect</code> 一种实现。</p><p data-v-3795ca9c>可以使用 <code data-v-3795ca9c>Animation()</code> 构造函数或 <code data-v-3795ca9c>Element.animate()</code> 将三者结合起来：</p><div class="language-javascript ext-js line-numbers-mode" data-v-3795ca9c><pre class="language-javascript" data-v-3795ca9c><code data-v-3795ca9c><span class="token keyword" data-v-3795ca9c>let</span> animation <span class="token operator" data-v-3795ca9c>=</span> <span class="token keyword" data-v-3795ca9c>new</span> <span class="token class-name" data-v-3795ca9c>Animation</span><span class="token punctuation" data-v-3795ca9c>(</span><span class="token punctuation" data-v-3795ca9c>[</span>effect<span class="token punctuation" data-v-3795ca9c>]</span><span class="token punctuation" data-v-3795ca9c>[</span><span class="token punctuation" data-v-3795ca9c>,</span> timeline<span class="token punctuation" data-v-3795ca9c>]</span><span class="token punctuation" data-v-3795ca9c>)</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c></div></div><hr data-v-3795ca9c><p data-v-3795ca9c>@ssbunny 2022-02-16</p><h3 id="编写动画" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#编写动画" aria-hidden="true" data-v-3795ca9c>#</a> 编写动画</h3><p data-v-3795ca9c>以此 CSS 动画为例：</p><div class="language-css ext-css line-numbers-mode" data-v-3795ca9c><pre class="language-css" data-v-3795ca9c><code data-v-3795ca9c><span class="token selector" data-v-3795ca9c>.web-animations</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token property" data-v-3795ca9c>animation</span><span class="token punctuation" data-v-3795ca9c>:</span> tumbling infinite 3s linear<span class="token punctuation" data-v-3795ca9c>;</span>
<span class="token punctuation" data-v-3795ca9c>}</span>

<span class="token atrule" data-v-3795ca9c><span class="token rule" data-v-3795ca9c>@keyframes</span> tumbling</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token selector" data-v-3795ca9c>0%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>color</span><span class="token punctuation" data-v-3795ca9c>:</span> #000<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>rotate</span><span class="token punctuation" data-v-3795ca9c>(</span>0<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>30%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>color</span><span class="token punctuation" data-v-3795ca9c>:</span> red<span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
  <span class="token selector" data-v-3795ca9c>100%</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    <span class="token property" data-v-3795ca9c>color</span><span class="token punctuation" data-v-3795ca9c>:</span> #000<span class="token punctuation" data-v-3795ca9c>;</span>
    <span class="token property" data-v-3795ca9c>transform</span><span class="token punctuation" data-v-3795ca9c>:</span> <span class="token function" data-v-3795ca9c>rotate</span><span class="token punctuation" data-v-3795ca9c>(</span>360deg<span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>6</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>7</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>8</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>9</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>10</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>11</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>12</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>13</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>14</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>15</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>16</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>17</span><br data-v-3795ca9c></div></div><div class="wraper" data-v-3795ca9c><div class="web-animations" data-v-3795ca9c>Web Animations API</div></div><p data-v-3795ca9c>使用 Web Animations API 首先要创建 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API/Keyframe_Formats" target="_blank" rel="noopener noreferrer" data-v-3795ca9c>Keyframe 对象<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a> :</p><div class="language-javascript ext-js line-numbers-mode" data-v-3795ca9c><pre class="language-javascript" data-v-3795ca9c><code data-v-3795ca9c><span class="token keyword" data-v-3795ca9c>let</span> tumbling <span class="token operator" data-v-3795ca9c>=</span> <span class="token punctuation" data-v-3795ca9c>[</span>
  <span class="token punctuation" data-v-3795ca9c>{</span> <span class="token literal-property property" data-v-3795ca9c>transform</span><span class="token operator" data-v-3795ca9c>:</span> <span class="token string" data-v-3795ca9c>&#39;rotate(0)&#39;</span><span class="token punctuation" data-v-3795ca9c>,</span> <span class="token literal-property property" data-v-3795ca9c>color</span><span class="token operator" data-v-3795ca9c>:</span> <span class="token string" data-v-3795ca9c>&#39;#000&#39;</span> <span class="token punctuation" data-v-3795ca9c>}</span><span class="token punctuation" data-v-3795ca9c>,</span>
  <span class="token punctuation" data-v-3795ca9c>{</span> <span class="token literal-property property" data-v-3795ca9c>color</span><span class="token operator" data-v-3795ca9c>:</span> <span class="token string" data-v-3795ca9c>&#39;red&#39;</span><span class="token punctuation" data-v-3795ca9c>,</span> <span class="token literal-property property" data-v-3795ca9c>offset</span><span class="token operator" data-v-3795ca9c>:</span> <span class="token number" data-v-3795ca9c>0.3</span> <span class="token punctuation" data-v-3795ca9c>}</span><span class="token punctuation" data-v-3795ca9c>,</span>
  <span class="token punctuation" data-v-3795ca9c>{</span> <span class="token literal-property property" data-v-3795ca9c>transform</span><span class="token operator" data-v-3795ca9c>:</span> <span class="token string" data-v-3795ca9c>&#39;rotate(360deg)&#39;</span><span class="token punctuation" data-v-3795ca9c>,</span> <span class="token literal-property property" data-v-3795ca9c>color</span><span class="token operator" data-v-3795ca9c>:</span> <span class="token string" data-v-3795ca9c>&#39;#000&#39;</span> <span class="token punctuation" data-v-3795ca9c>}</span>
<span class="token punctuation" data-v-3795ca9c>]</span><span class="token punctuation" data-v-3795ca9c>;</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c></div></div><p data-v-3795ca9c>不同于 CSS 的是，Web Animations API 并不需要指定每个关键帧的百分比。该 API 默认自动均分动画中的各关键帧（ 例如三个关键帧，则中间那个即为 50% ）。也可通过 <code data-v-3795ca9c>offset</code> 手动指定。目前该 API 要求至少包含两个关键帧。</p><p data-v-3795ca9c>之后便要创建动画时间相关的属性：</p><div class="language-javascript ext-js line-numbers-mode" data-v-3795ca9c><pre class="language-javascript" data-v-3795ca9c><code data-v-3795ca9c><span class="token keyword" data-v-3795ca9c>let</span> timing <span class="token operator" data-v-3795ca9c>=</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  <span class="token literal-property property" data-v-3795ca9c>duration</span><span class="token operator" data-v-3795ca9c>:</span> <span class="token number" data-v-3795ca9c>3000</span><span class="token punctuation" data-v-3795ca9c>,</span>
  <span class="token literal-property property" data-v-3795ca9c>iterations</span><span class="token operator" data-v-3795ca9c>:</span> <span class="token number" data-v-3795ca9c>Infinity</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c></div></div><p data-v-3795ca9c>Web Animations API 和 CSS 动画在技术细节上存在很多差异，如时间 3000 表示的是毫秒数，使用 <code data-v-3795ca9c>iterations</code> 而不是 <code data-v-3795ca9c>iteration-count</code>，使用 JavaScript 关键字 <code data-v-3795ca9c>Infinity</code> 而不是字符串 <code data-v-3795ca9c>&#39;infinite&#39;</code> 。默认的 timing-function 是 <code data-v-3795ca9c>linear</code> 而 CSS 中是 <code data-v-3795ca9c>ease</code> 。</p><p data-v-3795ca9c>最后就是将其综合起来：</p><div class="language-javascript ext-js line-numbers-mode" data-v-3795ca9c><pre class="language-javascript" data-v-3795ca9c><code data-v-3795ca9c>document<span class="token punctuation" data-v-3795ca9c>.</span><span class="token function" data-v-3795ca9c>getElementById</span><span class="token punctuation" data-v-3795ca9c>(</span><span class="token string" data-v-3795ca9c>&#39;someEl&#39;</span><span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>.</span><span class="token function" data-v-3795ca9c>animate</span><span class="token punctuation" data-v-3795ca9c>(</span>
  tumbling<span class="token punctuation" data-v-3795ca9c>,</span>
  timing
<span class="token punctuation" data-v-3795ca9c>)</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c></div></div><p data-v-3795ca9c>若只指定动画持续时间，可以：</p><div class="language-javascript ext-js line-numbers-mode" data-v-3795ca9c><pre class="language-javascript" data-v-3795ca9c><code data-v-3795ca9c>document<span class="token punctuation" data-v-3795ca9c>.</span><span class="token function" data-v-3795ca9c>getElementById</span><span class="token punctuation" data-v-3795ca9c>(</span><span class="token string" data-v-3795ca9c>&#39;someEl&#39;</span><span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>.</span><span class="token function" data-v-3795ca9c>animate</span><span class="token punctuation" data-v-3795ca9c>(</span>
  <span class="token punctuation" data-v-3795ca9c>[</span>
    <span class="token operator" data-v-3795ca9c>...</span>
  <span class="token punctuation" data-v-3795ca9c>]</span><span class="token punctuation" data-v-3795ca9c>,</span> <span class="token number" data-v-3795ca9c>3000</span><span class="token punctuation" data-v-3795ca9c>)</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c></div></div><h3 id="操控动画" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#操控动画" aria-hidden="true" data-v-3795ca9c>#</a> 操控动画</h3><p data-v-3795ca9c>只是设置动画效果的话，就和 CSS 动画没区别了。Web Animations API 的更大价值在于操控动画。</p><p data-v-3795ca9c>使用 <code data-v-3795ca9c>Element.animate()</code> 创建完动画后便会立即执行，为了阻止这种行为，可以先将其暂停：</p><div class="language-javascript ext-js line-numbers-mode" data-v-3795ca9c><pre class="language-javascript" data-v-3795ca9c><code data-v-3795ca9c>someAnimation<span class="token punctuation" data-v-3795ca9c>.</span><span class="token function" data-v-3795ca9c>pause</span><span class="token punctuation" data-v-3795ca9c>(</span><span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c></div></div><p data-v-3795ca9c>之后再在需要的时候启动动画：</p><div class="language-javascript ext-js line-numbers-mode" data-v-3795ca9c><pre class="language-javascript" data-v-3795ca9c><code data-v-3795ca9c>someAnimation<span class="token punctuation" data-v-3795ca9c>.</span><span class="token function" data-v-3795ca9c>play</span><span class="token punctuation" data-v-3795ca9c>(</span><span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c></div></div><p data-v-3795ca9c>另外还有：</p><ul data-v-3795ca9c><li data-v-3795ca9c><code data-v-3795ca9c>Animation.finish()</code> 直接结束当前动画</li><li data-v-3795ca9c><code data-v-3795ca9c>Animation.cancel()</code> 结束当前动画并取消所有动画效果</li><li data-v-3795ca9c><code data-v-3795ca9c>Animation.reverse()</code> 反转动画播放方向</li></ul><p data-v-3795ca9c>再看 <code data-v-3795ca9c>playbackRate</code>， 将其设为负值可导致动画反向播放：</p><div class="language-javascript ext-js line-numbers-mode" data-v-3795ca9c><pre class="language-javascript" data-v-3795ca9c><code data-v-3795ca9c>someAnimation<span class="token punctuation" data-v-3795ca9c>.</span>playbackRate <span class="token operator" data-v-3795ca9c>=</span> <span class="token operator" data-v-3795ca9c>-</span><span class="token number" data-v-3795ca9c>1</span>
someAnimation<span class="token punctuation" data-v-3795ca9c>.</span><span class="token function" data-v-3795ca9c>play</span><span class="token punctuation" data-v-3795ca9c>(</span><span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>;</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c></div></div><div class="wraper" data-v-3795ca9c><div id="web-playback1" class="web-playback" data-v-3795ca9c>playbackRate = 1</div><div id="web-playback2" class="web-playback" data-v-3795ca9c>playbackRate = 2</div><div id="web-playback3" class="web-playback" data-v-3795ca9c>playbackRate = -1</div></div><p data-v-3795ca9c><button data-v-3795ca9c>play( )</button></p><p data-v-3795ca9c>使用 <code data-v-3795ca9c>updatePlaybackRate()</code> 可改变其值：</p><div class="language-javascript ext-js line-numbers-mode" data-v-3795ca9c><pre class="language-javascript" data-v-3795ca9c><code data-v-3795ca9c><span class="token keyword" data-v-3795ca9c>var</span> <span class="token function-variable function" data-v-3795ca9c>goFaster</span> <span class="token operator" data-v-3795ca9c>=</span> <span class="token keyword" data-v-3795ca9c>function</span> <span class="token punctuation" data-v-3795ca9c>(</span><span class="token punctuation" data-v-3795ca9c>)</span> <span class="token punctuation" data-v-3795ca9c>{</span>
  someAnimation<span class="token punctuation" data-v-3795ca9c>.</span><span class="token function" data-v-3795ca9c>updatePlaybackRate</span><span class="token punctuation" data-v-3795ca9c>(</span>someAnimation<span class="token punctuation" data-v-3795ca9c>.</span>playbackRate <span class="token operator" data-v-3795ca9c>*</span> <span class="token number" data-v-3795ca9c>1.1</span><span class="token punctuation" data-v-3795ca9c>)</span>
<span class="token punctuation" data-v-3795ca9c>}</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c></div></div><h3 id="获取动画信息" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#获取动画信息" aria-hidden="true" data-v-3795ca9c>#</a> 获取动画信息</h3><p data-v-3795ca9c><code data-v-3795ca9c>Document.getAnimations</code> 可以获取当前页面所有动画。如，要让所有动画减速（CSS 无法实现）可以：</p><div class="language-javascript ext-js line-numbers-mode" data-v-3795ca9c><pre class="language-javascript" data-v-3795ca9c><code data-v-3795ca9c>document<span class="token punctuation" data-v-3795ca9c>.</span><span class="token function" data-v-3795ca9c>getAnimations</span><span class="token punctuation" data-v-3795ca9c>(</span><span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>.</span><span class="token function" data-v-3795ca9c>forEach</span><span class="token punctuation" data-v-3795ca9c>(</span>
  <span class="token keyword" data-v-3795ca9c>function</span> <span class="token punctuation" data-v-3795ca9c>(</span><span class="token parameter" data-v-3795ca9c>animation</span><span class="token punctuation" data-v-3795ca9c>)</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    animation<span class="token punctuation" data-v-3795ca9c>.</span><span class="token function" data-v-3795ca9c>updatePlaybackRate</span><span class="token punctuation" data-v-3795ca9c>(</span>animation<span class="token punctuation" data-v-3795ca9c>.</span>playbackRate <span class="token operator" data-v-3795ca9c>*</span> <span class="token number" data-v-3795ca9c>.5</span><span class="token punctuation" data-v-3795ca9c>)</span>
  <span class="token punctuation" data-v-3795ca9c>}</span>
<span class="token punctuation" data-v-3795ca9c>)</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>5</span><br data-v-3795ca9c></div></div><p data-v-3795ca9c><code data-v-3795ca9c>Animation.currentTime</code> 表示当前动画的时间（无论正在进行或暂停），单位为 ms 。若动画没有 timeline 或已经停止，则其值为 <code data-v-3795ca9c>null</code> 。</p><div class="language-javascript ext-js line-numbers-mode" data-v-3795ca9c><pre class="language-javascript" data-v-3795ca9c><code data-v-3795ca9c><span class="token keyword" data-v-3795ca9c>let</span> currentTime <span class="token operator" data-v-3795ca9c>=</span> animation<span class="token punctuation" data-v-3795ca9c>.</span>currentTime
animation<span class="token punctuation" data-v-3795ca9c>.</span>currentTime <span class="token operator" data-v-3795ca9c>=</span> newTime
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c></div></div><p data-v-3795ca9c><code data-v-3795ca9c>Animation.effect</code> 表示动画的目标效果，一般为 <a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyframeEffect" target="_blank" rel="noopener noreferrer" data-v-3795ca9c>KeyframeEffect<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span></a> 。其包含的方法如 <code data-v-3795ca9c>getComputedTiming()</code> 可以返回该关键帧的、计算后的当前时间对象：</p><div class="language-javascript ext-js line-numbers-mode" data-v-3795ca9c><pre class="language-javascript" data-v-3795ca9c><code data-v-3795ca9c>animation<span class="token punctuation" data-v-3795ca9c>.</span>effect<span class="token punctuation" data-v-3795ca9c>.</span><span class="token function" data-v-3795ca9c>getComputedTiming</span><span class="token punctuation" data-v-3795ca9c>(</span><span class="token punctuation" data-v-3795ca9c>)</span><span class="token punctuation" data-v-3795ca9c>.</span>duration
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c></div></div><h3 id="回调与-promise" tabindex="-1" data-v-3795ca9c><a class="header-anchor" href="#回调与-promise" aria-hidden="true" data-v-3795ca9c>#</a> 回调与 Promise</h3><p data-v-3795ca9c>回调函数：</p><ul data-v-3795ca9c><li data-v-3795ca9c><code data-v-3795ca9c>onfinish</code> 动画触发 <code data-v-3795ca9c>finish</code> 事件时或调用 <code data-v-3795ca9c>finish()</code> 方法时执行该回调</li><li data-v-3795ca9c><code data-v-3795ca9c>oncancel</code> 动画触发 <code data-v-3795ca9c>cancel</code> 事件时或调用 <code data-v-3795ca9c>cancel()</code> 方法时执行该回调</li></ul><p data-v-3795ca9c>另外还提供了一个 Promise 对象 <code data-v-3795ca9c>Animation.finished</code> ：</p><div class="language-javascript ext-js line-numbers-mode" data-v-3795ca9c><pre class="language-javascript" data-v-3795ca9c><code data-v-3795ca9c>animation<span class="token punctuation" data-v-3795ca9c>.</span>finished
  <span class="token punctuation" data-v-3795ca9c>.</span><span class="token function" data-v-3795ca9c>then</span><span class="token punctuation" data-v-3795ca9c>(</span><span class="token punctuation" data-v-3795ca9c>(</span><span class="token punctuation" data-v-3795ca9c>)</span> <span class="token operator" data-v-3795ca9c>=&gt;</span> <span class="token punctuation" data-v-3795ca9c>{</span>
    element<span class="token punctuation" data-v-3795ca9c>.</span><span class="token function" data-v-3795ca9c>remove</span><span class="token punctuation" data-v-3795ca9c>(</span><span class="token punctuation" data-v-3795ca9c>)</span>
  <span class="token punctuation" data-v-3795ca9c>}</span><span class="token punctuation" data-v-3795ca9c>)</span>
</code></pre><div class="line-numbers" data-v-3795ca9c><span class="line-number" data-v-3795ca9c>1</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>2</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>3</span><br data-v-3795ca9c><span class="line-number" data-v-3795ca9c>4</span><br data-v-3795ca9c></div></div><hr data-v-3795ca9c><p data-v-3795ca9c>@ssbunny 2022-02-16</p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: qqbunny@yeah.net">ssbunny</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.1ea428fb.js" defer></script>
  </body>
</html>
